--- ixemul-48.2.orig/ixnet/parse_version.c	2001-08-21 17:33:06.000000000 +0200
+++ ixemul-48.2/ixnet/parse_version.c	2012-08-03 18:29:55.000000000 +0200
@@ -1,5 +1,6 @@
 #include <stdio.h>
 #include <string.h>
+#include <stdlib.h>
 
 int main(int argc, char **argv)
 {
@@ -23,20 +24,20 @@
   }
   fscanf(f, "%d.%d,%d.%d.%d", &major, &minor, &day, &month, &year);
   fclose(f);
-  format = "/*
- * version.h file. Automatically generated by parse_version.
- */
-
-#ifndef __VERSION_H__
-#define __VERSION_H__
-
-#define IXNET_NAME	   \"ixnet.library\"
-#define IXNET_IDSTRING	   \"ixnet %d.%d [%s] (%d.%d.%d)\"
-#define IXNET_VERSION	   %d
-#define IXNET_REVISION	   %d
-#define IXNET_PRIORITY	   0
-
-#endif
+  format = "/*\n\
+ * version.h file. Automatically generated by parse_version.\n\
+ */\n\
+\n\
+#ifndef __VERSION_H__\n\
+#define __VERSION_H__\n\
+\n\
+#define IXNET_NAME     \"ixnet.library\"\n\
+#define IXNET_IDSTRING \"ixnet %d.%d [%s] (%d.%d.%d)\"\n\
+#define IXNET_VERSION  %d\n\
+#define IXNET_REVISION %d\n\
+#define IXNET_PRIORITY 0\n\
+\n\
+#endif\n\
 ";
   tmp[0] = '\0';
 
